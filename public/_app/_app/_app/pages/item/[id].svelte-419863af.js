import{S as t,i as e,s,e as l,t as n,k as a,c as r,a as c,g as o,d as m,n as i,b as h,E as f,f as u,F as d,J as g,h as p,v,j as $,m as E,o as w,r as k,w as y,B as L,u as b,P as A,l as I,Q as H,O as S,R as j}from"../../chunks/vendor-b0eb1977.js";function x(t,e,s){const l=t.slice();return l[3]=e[s],l}function D(t){let e,s,$,E,w,y,A,I,H,S,j,x,D,T,V=t[0].user+"",_=t[0].time_ago+"",B=t[0].content+"",M=t[0].comments.length>0&&N(t);return{c(){e=l("article"),s=l("div"),$=l("span"),E=l("a"),w=n(V),A=a(),I=n(_),H=a(),S=l("div"),j=a(),M&&M.c(),this.h()},l(t){e=r(t,"ARTICLE",{class:!0});var l=c(e);s=r(l,"DIV",{class:!0});var n=c(s);$=r(n,"SPAN",{class:!0});var a=c($);E=r(a,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var h=c(E);w=o(h,V),h.forEach(m),A=i(a),I=o(a,_),a.forEach(m),n.forEach(m),H=i(l),S=r(l,"DIV",{class:!0}),c(S).forEach(m),j=i(l),M&&M.l(l),l.forEach(m),this.h()},h(){h(E,"sveltekit:prefetch",""),h(E,"href",y="/user/"+t[0].user),h(E,"class","svelte-1fwtum2"),h($,"class","meta svelte-1fwtum2"),h(s,"class","meta-bar svelte-1fwtum2"),h(S,"class","body svelte-1fwtum2"),h(e,"class","comment svelte-1fwtum2"),f(e,"hidden",t[1])},m(l,n){u(l,e,n),d(e,s),d(s,$),d($,E),d(E,w),d($,A),d($,I),d(e,H),d(e,S),S.innerHTML=B,d(e,j),M&&M.m(e,null),x=!0,D||(T=g(s,"click",t[2]),D=!0)},p(t,s){(!x||1&s)&&V!==(V=t[0].user+"")&&p(w,V),(!x||1&s&&y!==(y="/user/"+t[0].user))&&h(E,"href",y),(!x||1&s)&&_!==(_=t[0].time_ago+"")&&p(I,_),(!x||1&s)&&B!==(B=t[0].content+"")&&(S.innerHTML=B),t[0].comments.length>0?M?(M.p(t,s),1&s&&v(M,1)):(M=N(t),M.c(),v(M,1),M.m(e,null)):M&&(L(),k(M,1,1,(()=>{M=null})),b()),2&s&&f(e,"hidden",t[1])},i(t){x||(v(M),x=!0)},o(t){k(M),x=!1},d(t){t&&m(e),M&&M.d(),D=!1,T()}}}function N(t){let e,s,n=t[0].comments,a=[];for(let l=0;l<n.length;l+=1)a[l]=T(x(t,n,l));const o=t=>k(a[t],1,1,(()=>{a[t]=null}));return{c(){e=l("ul");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=r(t,"UL",{class:!0});var s=c(e);for(let e=0;e<a.length;e+=1)a[e].l(s);s.forEach(m),this.h()},h(){h(e,"class","children svelte-1fwtum2")},m(t,l){u(t,e,l);for(let s=0;s<a.length;s+=1)a[s].m(e,null);s=!0},p(t,s){if(1&s){let l;for(n=t[0].comments,l=0;l<n.length;l+=1){const r=x(t,n,l);a[l]?(a[l].p(r,s),v(a[l],1)):(a[l]=T(r),a[l].c(),v(a[l],1),a[l].m(e,null))}for(L(),l=n.length;l<a.length;l+=1)o(l);b()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)v(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)k(a[e]);s=!1},d(t){t&&m(e),A(a,t)}}}function T(t){let e,s,n;return s=new B({props:{comment:t[3]}}),{c(){e=l("li"),$(s.$$.fragment),this.h()},l(t){e=r(t,"LI",{class:!0});var l=c(e);E(s.$$.fragment,l),l.forEach(m),this.h()},h(){h(e,"class","svelte-1fwtum2")},m(t,l){u(t,e,l),w(s,e,null),n=!0},p(t,e){const l={};1&e&&(l.comment=t[3]),s.$set(l)},i(t){n||(v(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&m(e),y(s)}}}function V(t){let e,s,l=!t[0].deleted&&D(t);return{c(){l&&l.c(),e=I()},l(t){l&&l.l(t),e=I()},m(t,n){l&&l.m(t,n),u(t,e,n),s=!0},p(t,[s]){t[0].deleted?l&&(L(),k(l,1,1,(()=>{l=null})),b()):l?(l.p(t,s),1&s&&v(l,1)):(l=D(t),l.c(),v(l,1),l.m(e.parentNode,e))},i(t){s||(v(l),s=!0)},o(t){k(l),s=!1},d(t){l&&l.d(t),t&&m(e)}}}function _(t,e,s){let{comment:l}=e,n=!1;return t.$$set=t=>{"comment"in t&&s(0,l=t.comment)},[l,n,()=>s(1,n=!n)]}class B extends t{constructor(t){super(),e(this,t,_,V,s,{comment:0})}}function M(t,e,s){const l=t.slice();return l[1]=e[s],l}function P(t){let e,s,a=t[0].domain+"";return{c(){e=l("small"),s=n(a),this.h()},l(t){e=r(t,"SMALL",{class:!0});var l=c(e);s=o(l,a),l.forEach(m),this.h()},h(){h(e,"class","svelte-101ktgy")},m(t,l){u(t,e,l),d(e,s)},p(t,e){1&e&&a!==(a=t[0].domain+"")&&p(s,a)},d(t){t&&m(e)}}}function R(t){let e,s,l=t[0].content+"";return{c(){e=new j,s=I(),this.h()},l(t){e=H(t),s=I(),this.h()},h(){e.a=s},m(t,n){e.m(l,t,n),u(t,s,n)},p(t,s){1&s&&l!==(l=t[0].content+"")&&e.p(l)},d(t){t&&m(s),t&&e.d()}}}function C(t){let e,s;return e=new B({props:{comment:t[1]}}),{c(){$(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){w(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.comment=t[1]),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function F(t){let e,s,f,g,$,E,w,y,I,H,j,x,D,N,T,V,_,B,F,J,O,Q,U=t[0].title+"",q=t[0].points+"",z=t[0].user+"",G=t[0].time_ago+"";document.title=e=t[0].title+" | Svelte Hacker News";let K=t[0].domain&&P(t),W=t[0].content&&R(t),X=t[0].comments,Y=[];for(let l=0;l<X.length;l+=1)Y[l]=C(M(t,X,l));const Z=t=>k(Y[t],1,1,(()=>{Y[t]=null}));return{c(){s=a(),f=l("div"),g=l("article"),$=l("a"),E=l("h1"),w=n(U),y=a(),K&&K.c(),H=a(),j=l("p"),x=n(q),D=n(" points by "),N=l("a"),T=n(z),_=a(),B=n(G),F=a(),W&&W.c(),J=a(),O=l("div");for(let t=0;t<Y.length;t+=1)Y[t].c();this.h()},l(t){S('[data-svelte="svelte-2h655f"]',document.head).forEach(m),s=i(t),f=r(t,"DIV",{});var e=c(f);g=r(e,"ARTICLE",{class:!0});var l=c(g);$=r(l,"A",{class:!0,href:!0});var n=c($);E=r(n,"H1",{class:!0});var a=c(E);w=o(a,U),a.forEach(m),y=i(n),K&&K.l(n),n.forEach(m),H=i(l),j=r(l,"P",{class:!0});var h=c(j);x=o(h,q),D=o(h," points by "),N=r(h,"A",{href:!0});var u=c(N);T=o(u,z),u.forEach(m),_=i(h),B=o(h,G),h.forEach(m),F=i(l),W&&W.l(l),l.forEach(m),J=i(e),O=r(e,"DIV",{class:!0});var d=c(O);for(let s=0;s<Y.length;s+=1)Y[s].l(d);d.forEach(m),e.forEach(m),this.h()},h(){h(E,"class","svelte-101ktgy"),h($,"class","main-link svelte-101ktgy"),h($,"href",I=t[0].url),h(N,"href",V="/user/"+t[0].user),h(j,"class","meta svelte-101ktgy"),h(g,"class","item svelte-101ktgy"),h(O,"class","comments svelte-101ktgy")},m(t,e){u(t,s,e),u(t,f,e),d(f,g),d(g,$),d($,E),d(E,w),d($,y),K&&K.m($,null),d(g,H),d(g,j),d(j,x),d(j,D),d(j,N),d(N,T),d(j,_),d(j,B),d(g,F),W&&W.m(g,null),d(f,J),d(f,O);for(let s=0;s<Y.length;s+=1)Y[s].m(O,null);Q=!0},p(t,[s]){if((!Q||1&s)&&e!==(e=t[0].title+" | Svelte Hacker News")&&(document.title=e),(!Q||1&s)&&U!==(U=t[0].title+"")&&p(w,U),t[0].domain?K?K.p(t,s):(K=P(t),K.c(),K.m($,null)):K&&(K.d(1),K=null),(!Q||1&s&&I!==(I=t[0].url))&&h($,"href",I),(!Q||1&s)&&q!==(q=t[0].points+"")&&p(x,q),(!Q||1&s)&&z!==(z=t[0].user+"")&&p(T,z),(!Q||1&s&&V!==(V="/user/"+t[0].user))&&h(N,"href",V),(!Q||1&s)&&G!==(G=t[0].time_ago+"")&&p(B,G),t[0].content?W?W.p(t,s):(W=R(t),W.c(),W.m(g,null)):W&&(W.d(1),W=null),1&s){let e;for(X=t[0].comments,e=0;e<X.length;e+=1){const l=M(t,X,e);Y[e]?(Y[e].p(l,s),v(Y[e],1)):(Y[e]=C(l),Y[e].c(),v(Y[e],1),Y[e].m(O,null))}for(L(),e=X.length;e<Y.length;e+=1)Z(e);b()}},i(t){if(!Q){for(let t=0;t<X.length;t+=1)v(Y[t]);Q=!0}},o(t){Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)k(Y[e]);Q=!1},d(t){t&&m(s),t&&m(f),K&&K.d(),W&&W.d(),A(Y,t)}}}async function J({page:t,fetch:e}){const s=await e(`https://api.hnpwa.com/v0/item/${t.params.id}.json`);return{props:{item:await s.json()}}}function O(t,e,s){let{item:l}=e;return t.$$set=t=>{"item"in t&&s(0,l=t.item)},[l]}export default class extends t{constructor(t){super(),e(this,t,O,F,s,{item:0})}}export{J as load};
